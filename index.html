<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Process vs Results Lab</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Russo+One&family=Nunito:wght@400;700;900&display=swap');

    :root {
      --green-turf: #2d8a4e;
      --green-dark: #1a5c32;
      --green-light: #4caf50;
      --gold: #ffc107;
      --gold-dark: #e6a800;
      --white: #ffffff;
      --dark: #1a1a2e;
      --red: #e74c3c;
      --blue: #3498db;
      --orange: #ff9800;
      --purple: #9c27b0;
      /* Basketball theme colors */
      --court-tan: #c8a265;
      --court-dark: #8b6914;
      --bball-orange: #ee6730;
      --bball-orange-dark: #c94a18;
    }

    * { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      font-family: 'Nunito', sans-serif;
      min-height: 100vh;
      overflow-x: hidden;
      transition: background 0.8s ease;
    }

    body.football-theme { background: var(--green-dark); }
    body.basketball-theme { background: #3e2110; }

    /* ===== FIELD BACKGROUND (Football) ===== */
    .field-bg {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      z-index: 0;
      opacity: 0.4;
      transition: all 0.8s ease;
    }

    body.football-theme .field-bg {
      background: repeating-linear-gradient(
        0deg,
        var(--green-turf) 0px, var(--green-turf) 60px,
        var(--green-dark) 60px, var(--green-dark) 120px
      );
      opacity: 0.4;
    }

    body.basketball-theme .field-bg {
      background: repeating-linear-gradient(
        0deg,
        #b8883a 0px, #b8883a 80px,
        #a07528 80px, #a07528 160px
      );
      opacity: 0.25;
    }

    .yard-lines {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      z-index: 0;
      opacity: 0.08;
      transition: all 0.8s ease;
    }

    body.football-theme .yard-lines {
      background: repeating-linear-gradient(
        0deg, transparent 0px, transparent 118px, white 118px, white 122px
      );
    }

    body.basketball-theme .yard-lines {
      background:
        linear-gradient(rgba(255,255,255,0.06) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255,255,255,0.06) 1px, transparent 1px);
      background-size: 80px 80px;
      opacity: 0.3;
    }

    /* ===== MAIN CONTAINER ===== */
    .container {
      position: relative;
      z-index: 1;
      max-width: 900px;
      margin: 0 auto;
      padding: 20px 16px 60px;
    }

    /* ===== LEVEL TABS ===== */
    .level-tabs {
      display: flex;
      gap: 8px;
      margin-bottom: 20px;
      justify-content: center;
    }

    .level-tab {
      font-family: 'Russo One', sans-serif;
      font-size: 0.9rem;
      padding: 10px 24px;
      border-radius: 30px;
      border: 2px solid rgba(255,255,255,0.15);
      background: rgba(255,255,255,0.05);
      color: #888;
      cursor: pointer;
      transition: all 0.3s ease;
      letter-spacing: 1px;
    }

    .level-tab:hover:not(:disabled) {
      background: rgba(255,255,255,0.1);
      color: #ccc;
    }

    .level-tab.active {
      border-color: var(--gold);
      color: var(--gold);
      background: rgba(255,193,7,0.1);
    }

    .level-tab:disabled {
      opacity: 0.35;
      cursor: not-allowed;
    }

    .level-tab .lock-icon { margin-right: 4px; }

    /* ===== SCOREBOARD HEADER ===== */
    .scoreboard {
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      border: 4px solid var(--gold);
      border-radius: 20px;
      padding: 24px 20px 20px;
      text-align: center;
      margin-bottom: 28px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.4), inset 0 1px 0 rgba(255,255,255,0.1);
      position: relative;
      overflow: hidden;
      transition: border-color 0.5s ease;
    }

    .scoreboard::before {
      content: '';
      position: absolute;
      top: -2px; left: -2px; right: -2px; bottom: -2px;
      border-radius: 22px;
      background: linear-gradient(45deg, var(--gold), transparent, var(--gold));
      z-index: -1;
      opacity: 0.3;
    }

    body.basketball-theme .scoreboard {
      border-color: var(--bball-orange);
    }

    body.basketball-theme .scoreboard::before {
      background: linear-gradient(45deg, var(--bball-orange), transparent, var(--bball-orange));
    }

    .scoreboard h1 {
      font-family: 'Russo One', sans-serif;
      font-size: clamp(1.6rem, 5vw, 2.4rem);
      color: var(--white);
      text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
      margin-bottom: 4px;
      letter-spacing: 1px;
    }

    .scoreboard h1 .emoji {
      font-family: 'Segoe UI Emoji', 'Apple Color Emoji', sans-serif;
      display: inline;
    }

    .scoreboard .subtitle {
      font-size: clamp(0.9rem, 2.5vw, 1.1rem);
      color: var(--gold);
      font-weight: 700;
      letter-spacing: 2px;
      text-transform: uppercase;
      transition: color 0.5s ease;
    }

    body.basketball-theme .scoreboard .subtitle {
      color: var(--bball-orange);
    }

    .scoreboard .intro {
      color: #ccc;
      font-size: 0.95rem;
      margin-top: 14px;
      line-height: 1.6;
      max-width: 700px;
      margin-left: auto;
      margin-right: auto;
    }

    .scoreboard .intro strong {
      color: var(--gold);
    }

    body.basketball-theme .scoreboard .intro strong {
      color: var(--bball-orange);
    }

    .level-badge {
      display: inline-block;
      font-family: 'Russo One', sans-serif;
      font-size: 0.7rem;
      letter-spacing: 2px;
      padding: 4px 14px;
      border-radius: 20px;
      margin-bottom: 10px;
    }

    .level-badge.l1 {
      background: rgba(76,175,80,0.2);
      color: var(--green-light);
      border: 1px solid rgba(76,175,80,0.3);
    }

    .level-badge.l2 {
      background: rgba(238,103,48,0.2);
      color: var(--bball-orange);
      border: 1px solid rgba(238,103,48,0.3);
    }

    /* ===== LEGEND / CHEAT SHEET ===== */
    .legend {
      background: linear-gradient(135deg, #16213e, #1a1a3e);
      border: 2px solid rgba(255,193,7,0.3);
      border-radius: 16px;
      padding: 18px 20px;
      margin-bottom: 24px;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 10px;
      transition: border-color 0.5s ease;
    }

    body.basketball-theme .legend {
      border-color: rgba(238,103,48,0.3);
    }

    .legend h3 {
      grid-column: 1 / -1;
      color: var(--gold);
      font-family: 'Russo One', sans-serif;
      font-size: 1rem;
      margin-bottom: 4px;
      text-align: center;
      letter-spacing: 1px;
      transition: color 0.5s ease;
    }

    body.basketball-theme .legend h3 {
      color: var(--bball-orange);
    }

    .legend-item {
      display: flex;
      align-items: center;
      gap: 8px;
      padding: 8px 12px;
      border-radius: 10px;
      background: rgba(255,255,255,0.05);
    }

    .legend-dot {
      width: 14px; height: 14px;
      border-radius: 50%;
      flex-shrink: 0;
    }

    .legend-dot.gpgr { background: var(--green-light); }
    .legend-dot.gpbr { background: var(--blue); }
    .legend-dot.bpgr { background: var(--orange); }
    .legend-dot.bpbr { background: var(--red); }

    .legend-text {
      color: #ddd;
      font-size: 0.82rem;
      font-weight: 700;
      line-height: 1.3;
    }

    .legend-text span {
      display: block;
      font-weight: 400;
      font-size: 0.75rem;
      color: #999;
      margin-top: 1px;
    }

    /* ===== PLAY CARDS ===== */
    .play-card {
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      border: 2px solid rgba(255,255,255,0.1);
      border-radius: 16px;
      padding: 20px;
      margin-bottom: 16px;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .play-card::before {
      content: '';
      position: absolute;
      top: 0; left: 0;
      width: 6px; height: 100%;
      border-radius: 16px 0 0 16px;
      transition: background 0.3s ease;
    }

    body.football-theme .play-card::before { background: var(--gold); }
    body.basketball-theme .play-card::before { background: var(--bball-orange); }

    .play-card:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 24px rgba(0,0,0,0.3);
      border-color: rgba(255,193,7,0.3);
    }

    body.basketball-theme .play-card:hover {
      border-color: rgba(238,103,48,0.3);
    }

    .play-card.correct {
      border-color: var(--green-light) !important;
      box-shadow: 0 0 20px rgba(76,175,80,0.2);
    }
    .play-card.correct::before { background: var(--green-light) !important; }

    .play-card.incorrect {
      border-color: var(--red) !important;
      box-shadow: 0 0 20px rgba(231,76,60,0.2);
      animation: shake 0.5s ease;
    }
    .play-card.incorrect::before { background: var(--red) !important; }

    @keyframes shake {
      0%, 100% { transform: translateX(0); }
      20% { transform: translateX(-8px); }
      40% { transform: translateX(8px); }
      60% { transform: translateX(-6px); }
      80% { transform: translateX(6px); }
    }

    .play-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 12px;
    }

    .play-number {
      color: var(--dark);
      font-family: 'Russo One', sans-serif;
      font-size: 1.1rem;
      width: 40px; height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-shrink: 0;
      transition: background 0.3s, box-shadow 0.3s;
    }

    body.football-theme .play-number {
      background: var(--gold);
      box-shadow: 0 2px 8px rgba(255,193,7,0.3);
    }

    body.basketball-theme .play-number {
      background: var(--bball-orange);
      box-shadow: 0 2px 8px rgba(238,103,48,0.3);
      color: #fff;
    }

    .play-label {
      font-family: 'Russo One', sans-serif;
      color: var(--white);
      font-size: 0.85rem;
      letter-spacing: 1px;
      text-transform: uppercase;
      opacity: 0.7;
    }

    .play-description {
      color: #e0e0e0;
      font-size: 1.05rem;
      line-height: 1.6;
      margin-bottom: 16px;
      padding-left: 52px;
    }

    .play-description .scenario {
      font-weight: 900;
      color: var(--white);
      display: block;
      margin-bottom: 4px;
      font-size: 1.1rem;
    }

    .play-description .detail {
      color: #aaa;
      font-size: 0.92rem;
    }

    .play-description .hint {
      display: block;
      margin-top: 8px;
      padding: 8px 12px;
      background: rgba(255,255,255,0.04);
      border-left: 3px solid var(--bball-orange);
      border-radius: 0 8px 8px 0;
      color: #bbb;
      font-size: 0.82rem;
      font-style: italic;
      line-height: 1.5;
    }

    .answer-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 8px;
      padding-left: 52px;
    }

    .answer-btn {
      background: rgba(255,255,255,0.06);
      border: 2px solid rgba(255,255,255,0.12);
      border-radius: 12px;
      padding: 12px 10px;
      color: #ccc;
      font-family: 'Nunito', sans-serif;
      font-weight: 700;
      font-size: 0.82rem;
      cursor: pointer;
      transition: all 0.2s ease;
      text-align: center;
      line-height: 1.3;
    }

    .answer-btn:hover {
      background: rgba(255,255,255,0.12);
      border-color: rgba(255,255,255,0.25);
      transform: scale(1.03);
      color: #fff;
    }

    .answer-btn.selected {
      box-shadow: 0 0 12px rgba(255,193,7,0.15);
    }

    body.football-theme .answer-btn.selected {
      background: rgba(255,193,7,0.15);
      border-color: var(--gold);
      color: var(--gold);
    }

    body.basketball-theme .answer-btn.selected {
      background: rgba(238,103,48,0.15);
      border-color: var(--bball-orange);
      color: var(--bball-orange);
    }

    .answer-btn.correct-answer {
      background: rgba(76,175,80,0.2) !important;
      border-color: var(--green-light) !important;
      color: var(--green-light) !important;
    }

    .answer-btn.wrong-answer {
      background: rgba(231,76,60,0.15) !important;
      border-color: var(--red) !important;
      color: var(--red) !important;
    }

    .feedback-icon {
      position: absolute;
      top: 16px; right: 16px;
      font-size: 1.6rem;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .play-card.correct .feedback-icon,
    .play-card.incorrect .feedback-icon { opacity: 1; }

    /* ===== SUBMIT BUTTON ===== */
    .submit-section {
      text-align: center;
      margin-top: 28px;
    }

    .submit-btn {
      font-family: 'Russo One', sans-serif;
      font-size: 1.3rem;
      border: none;
      border-radius: 50px;
      padding: 16px 48px;
      cursor: pointer;
      letter-spacing: 2px;
      text-transform: uppercase;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    body.football-theme .submit-btn {
      background: linear-gradient(135deg, var(--gold), var(--gold-dark));
      color: var(--dark);
      box-shadow: 0 4px 20px rgba(255,193,7,0.3);
    }

    body.basketball-theme .submit-btn {
      background: linear-gradient(135deg, var(--bball-orange), var(--bball-orange-dark));
      color: var(--white);
      box-shadow: 0 4px 20px rgba(238,103,48,0.3);
    }

    .submit-btn:hover {
      transform: translateY(-3px);
    }

    body.football-theme .submit-btn:hover {
      box-shadow: 0 8px 30px rgba(255,193,7,0.4);
    }

    body.basketball-theme .submit-btn:hover {
      box-shadow: 0 8px 30px rgba(238,103,48,0.4);
    }

    .submit-btn:active { transform: translateY(0); }

    .submit-btn:disabled {
      opacity: 0.4;
      cursor: not-allowed;
      transform: none !important;
    }

    .submit-btn .ball-spin {
      display: inline-block;
      transition: transform 0.5s ease;
    }

    .submit-btn:hover .ball-spin {
      transform: rotate(360deg);
    }

    .score-display {
      margin-top: 16px;
      font-family: 'Russo One', sans-serif;
      font-size: 1.1rem;
      color: var(--white);
      opacity: 0;
      transition: opacity 0.4s ease;
    }

    .score-display.visible { opacity: 1; }

    /* ===== RESULT PANEL ===== */
    .result-panel {
      background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
      border: 3px solid var(--gold);
      border-radius: 20px;
      padding: 32px 24px;
      text-align: center;
      margin-top: 28px;
      display: none;
      animation: slideUp 0.5s ease;
    }

    body.basketball-theme .result-panel {
      border-color: var(--bball-orange);
    }

    .result-panel.show { display: block; }

    @keyframes slideUp {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .result-panel h2 {
      font-family: 'Russo One', sans-serif;
      font-size: 1.8rem;
      margin-bottom: 12px;
    }

    .result-panel.pass h2 { color: var(--green-light); }
    .result-panel.fail h2 { color: var(--red); }

    .result-panel p {
      color: #ccc;
      font-size: 1rem;
      margin-bottom: 8px;
    }

    .claim-code {
      background: rgba(76,175,80,0.15);
      border: 2px dashed var(--green-light);
      border-radius: 12px;
      padding: 16px;
      margin-top: 16px;
      display: inline-block;
    }

    .claim-code .label {
      color: var(--green-light);
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 2px;
      font-weight: 700;
      margin-bottom: 4px;
    }

    .claim-code .code {
      font-family: 'Russo One', sans-serif;
      color: var(--gold);
      font-size: 1.3rem;
      letter-spacing: 3px;
      user-select: all;
    }

    body.basketball-theme .claim-code .code {
      color: var(--bball-orange);
    }

    .next-level-btn {
      display: inline-block;
      margin-top: 16px;
      background: linear-gradient(135deg, var(--bball-orange), var(--bball-orange-dark));
      color: #fff;
      font-family: 'Russo One', sans-serif;
      font-size: 1rem;
      border: none;
      border-radius: 30px;
      padding: 12px 32px;
      cursor: pointer;
      letter-spacing: 1px;
      box-shadow: 0 4px 16px rgba(238,103,48,0.3);
      transition: all 0.3s ease;
      animation: pulse 1.5s ease infinite;
    }

    .next-level-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 24px rgba(238,103,48,0.5);
    }

    @keyframes pulse {
      0%, 100% { box-shadow: 0 4px 16px rgba(238,103,48,0.3); }
      50% { box-shadow: 0 4px 28px rgba(238,103,48,0.6); }
    }

    .reset-btn {
      margin-top: 20px;
      background: rgba(255,255,255,0.08);
      border: 2px solid rgba(255,255,255,0.2);
      color: #ccc;
      font-family: 'Nunito', sans-serif;
      font-weight: 700;
      font-size: 0.95rem;
      border-radius: 30px;
      padding: 10px 28px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .reset-btn:hover {
      background: rgba(255,255,255,0.15);
      color: #fff;
    }

    /* ===== CONFETTI ===== */
    .confetti-container {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      pointer-events: none;
      z-index: 999;
      overflow: hidden;
    }

    .confetti {
      position: absolute;
      top: -20px;
      width: 12px; height: 12px;
      border-radius: 2px;
      animation: confetti-fall linear forwards;
    }

    @keyframes confetti-fall {
      0% { transform: translateY(0) rotate(0deg); opacity: 1; }
      100% { transform: translateY(110vh) rotate(720deg); opacity: 0; }
    }

    /* ===== FLOATING ITEMS ===== */
    .floating-items {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      pointer-events: none;
      z-index: 0;
      overflow: hidden;
    }

    .floating-item {
      position: absolute;
      font-size: 1.8rem;
      opacity: 0.08;
      animation: float-up linear infinite;
    }

    @keyframes float-up {
      0% { transform: translateY(110vh) rotate(0deg); }
      100% { transform: translateY(-10vh) rotate(360deg); }
    }

    /* ===== PROGRESS BAR ===== */
    .progress-bar {
      background: rgba(255,255,255,0.1);
      border-radius: 20px;
      height: 10px;
      margin: 16px 0 4px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      border-radius: 20px;
      width: 0%;
      transition: width 0.4s ease;
    }

    body.football-theme .progress-fill {
      background: linear-gradient(90deg, var(--gold), var(--green-light));
    }

    body.basketball-theme .progress-fill {
      background: linear-gradient(90deg, var(--bball-orange), var(--gold));
    }

    .progress-text {
      color: #888;
      font-size: 0.8rem;
      text-align: center;
      font-weight: 700;
    }

    /* ===== LEVEL TRANSITION ===== */
    .level-section {
      display: none;
    }

    .level-section.active {
      display: block;
      animation: fadeIn 0.6s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* ===== RESPONSIVE ===== */
    @media (max-width: 600px) {
      .answer-grid {
        grid-template-columns: 1fr;
        padding-left: 0;
      }
      .play-description { padding-left: 0; }
      .legend { grid-template-columns: 1fr; }
      .container { padding: 12px 10px 40px; }
      .play-description .hint { margin-left: 0; }
    }
  </style>
</head>
<body class="football-theme">

<div class="field-bg"></div>
<div class="yard-lines"></div>

<div class="floating-items" id="floatingItems"></div>

<div class="container">

  <!-- LEVEL TABS -->
  <div class="level-tabs">
    <button class="level-tab active" id="tab-1" onclick="switchLevel(1)">
      Level 1: Football
    </button>
    <button class="level-tab" id="tab-2" onclick="switchLevel(2)" disabled>
      <span class="lock-icon">&#128274;</span> Level 2: Basketball
    </button>
  </div>

  <!-- ============================================================ -->
  <!-- LEVEL 1: FOOTBALL                                            -->
  <!-- ============================================================ -->
  <div class="level-section active" id="level-1">

    <div class="scoreboard">
      <div class="level-badge l1">LEVEL 1</div>
      <h1><span class="emoji">&#127944;</span> PROCESS vs RESULTS <span class="emoji">&#127944;</span></h1>
      <div class="subtitle">Football Analytics Lab</div>
      <p class="intro">
        In football, a <strong>great decision</strong> doesn't always mean a <strong>great outcome</strong> —
        and sometimes a <strong>bad decision</strong> gets lucky! Read each play and decide if the
        <strong>PROCESS</strong> (the decision) was good or bad, and if the <strong>RESULT</strong> (what happened) was good or bad.
      </p>
      <div class="progress-bar"><div class="progress-fill" id="progressFill-1"></div></div>
      <div class="progress-text" id="progressText-1">0 of 6 plays answered</div>
    </div>

    <div class="legend">
      <h3>THE 4 CATEGORIES</h3>
      <div class="legend-item">
        <div class="legend-dot gpgr"></div>
        <div class="legend-text">Good Process, Good Result <span>Smart play + it worked!</span></div>
      </div>
      <div class="legend-item">
        <div class="legend-dot gpbr"></div>
        <div class="legend-text">Good Process, Bad Result <span>Smart play, but didn't work out</span></div>
      </div>
      <div class="legend-item">
        <div class="legend-dot bpgr"></div>
        <div class="legend-text">Bad Process, Good Result <span>Risky/bad play, but got lucky</span></div>
      </div>
      <div class="legend-item">
        <div class="legend-dot bpbr"></div>
        <div class="legend-text">Bad Process, Bad Result <span>Risky/bad play + it failed</span></div>
      </div>
    </div>

    <div id="playCards-1"></div>

    <div class="submit-section">
      <button class="submit-btn" id="submitBtn-1" disabled onclick="checkAnswers(1)">
        <span class="ball-spin">&#127944;</span> CHECK MY ANSWERS
      </button>
      <div class="score-display" id="scoreDisplay-1"></div>
    </div>

    <div class="result-panel" id="resultPanel-1">
      <h2 id="resultTitle-1"></h2>
      <p id="resultMessage-1"></p>
      <div class="claim-code" id="claimCodeBox-1" style="display:none;">
        <div class="label">Level 1 Claim Code</div>
        <div class="code" id="claimCode-1"></div>
      </div>
      <div id="nextLevelArea" style="display:none;">
        <br>
        <button class="next-level-btn" onclick="switchLevel(2)">
          &#127936; ADVANCE TO LEVEL 2: BASKETBALL &#127936;
        </button>
      </div>
      <br>
      <button class="reset-btn" onclick="resetLevel(1)">&#128260; Try Again</button>
    </div>
  </div>

  <!-- ============================================================ -->
  <!-- LEVEL 2: BASKETBALL                                          -->
  <!-- ============================================================ -->
  <div class="level-section" id="level-2">

    <div class="scoreboard">
      <div class="level-badge l2">LEVEL 2 — ADVANCED</div>
      <h1><span class="emoji">&#127936;</span> PROCESS vs RESULTS <span class="emoji">&#127936;</span></h1>
      <div class="subtitle">Basketball Analytics Lab</div>
      <p class="intro">
        You passed Level 1 — now it's time to <strong>prove you REALLY get it</strong>. These basketball plays
        are trickier. Some look good but aren't. Some look bad but are actually smart. Think carefully about
        <strong>WHY</strong> the decision was made, not just what happened!
      </p>
      <div class="progress-bar"><div class="progress-fill" id="progressFill-2"></div></div>
      <div class="progress-text" id="progressText-2">0 of 8 plays answered</div>
    </div>

    <div class="legend">
      <h3>REMEMBER THE 4 CATEGORIES</h3>
      <div class="legend-item">
        <div class="legend-dot gpgr"></div>
        <div class="legend-text">Good Process, Good Result <span>Smart play + it worked!</span></div>
      </div>
      <div class="legend-item">
        <div class="legend-dot gpbr"></div>
        <div class="legend-text">Good Process, Bad Result <span>Smart play, but didn't work out</span></div>
      </div>
      <div class="legend-item">
        <div class="legend-dot bpgr"></div>
        <div class="legend-text">Bad Process, Good Result <span>Risky/bad play, but got lucky</span></div>
      </div>
      <div class="legend-item">
        <div class="legend-dot bpbr"></div>
        <div class="legend-text">Bad Process, Bad Result <span>Risky/bad play + it failed</span></div>
      </div>
    </div>

    <div id="playCards-2"></div>

    <div class="submit-section">
      <button class="submit-btn" id="submitBtn-2" disabled onclick="checkAnswers(2)">
        <span class="ball-spin">&#127936;</span> CHECK MY ANSWERS
      </button>
      <div class="score-display" id="scoreDisplay-2"></div>
    </div>

    <div class="result-panel" id="resultPanel-2">
      <h2 id="resultTitle-2"></h2>
      <p id="resultMessage-2"></p>
      <div class="claim-code" id="claimCodeBox-2" style="display:none;">
        <div class="label">Level 2 Claim Code</div>
        <div class="code" id="claimCode-2"></div>
      </div>
      <br>
      <button class="reset-btn" onclick="resetLevel(2)">&#128260; Try Again</button>
    </div>
  </div>

</div>

<div class="confetti-container" id="confettiContainer"></div>

<script>
  // ==================================================================
  // LEVEL 1 DATA — FOOTBALL (straightforward)
  // ==================================================================
  const level1Plays = [
    {
      id: 1,
      scenario: "3rd & 7 — QB reads the defense, finds the open receiver on a slant route...",
      detail: "The pass is on target, but the receiver drops it. Incomplete!",
      answer: "Good Process, Bad Result"
    },
    {
      id: 2,
      scenario: "4th & 2 — Instead of punting, the QB scrambles and heaves it deep into triple coverage...",
      detail: "Somehow the ball bounces off two defenders and lands right in the WR's hands. Touchdown!",
      answer: "Bad Process, Good Result"
    },
    {
      id: 3,
      scenario: "2nd & 5 — The running back sees the designed hole, follows his blockers perfectly...",
      detail: "A defender makes an incredible shoestring tackle at the line. No gain.",
      answer: "Good Process, Bad Result"
    },
    {
      id: 4,
      scenario: "1st & 10 — QB ignores the wide-open check-down and forces a throw into double coverage...",
      detail: "The corner jumps the route but the ball somehow squeezes through. First down!",
      answer: "Bad Process, Good Result"
    },
    {
      id: 5,
      scenario: "Red zone — Coach calls a play-action pass. The fake fools the whole defense...",
      detail: "The tight end is WIDE open in the end zone, but the QB overthrows him. Incomplete.",
      answer: "Good Process, Bad Result"
    },
    {
      id: 6,
      scenario: "3rd & 12 — Under pressure, the QB tries a risky no-look pass behind his back...",
      detail: "The ball sails into the stands. Turnover on downs. The crowd boos.",
      answer: "Bad Process, Bad Result"
    }
  ];

  // ==================================================================
  // LEVEL 2 DATA — BASKETBALL (nuanced & tricky)
  // ==================================================================
  const level2Plays = [
    {
      id: 1,
      scenario: "Down 2 with 5 seconds left. The point guard drives to the basket and kicks it out to the team's best 3-point shooter in the corner...",
      detail: "The shooter is wide open, takes a clean look... and it rims out. They lose by 2.",
      hint: "Think about it: was going for the 3 to win the game with your best shooter a smart decision, even though it missed?",
      answer: "Good Process, Bad Result"
    },
    {
      id: 2,
      scenario: "Tied game. A player catches the ball at halfcourt with 15 seconds still on the shot clock. Instead of running a play, he launches a deep 3 immediately...",
      detail: "Nothing but net! The bench goes crazy. They take the lead!",
      hint: "Sure it went in... but was chucking a half-court shot with 15 seconds left actually a good decision?",
      answer: "Bad Process, Good Result"
    },
    {
      id: 3,
      scenario: "The team runs a pick-and-roll. The defense switches. The point guard recognizes the mismatch — a tiny guard now covering their center under the basket...",
      detail: "She lobs it to the center, who catches it, goes up strong, and scores an easy layup.",
      hint: "Reading the mismatch and passing to the open big player... is that smart basketball?",
      answer: "Good Process, Good Result"
    },
    {
      id: 4,
      scenario: "Up by 1, 30 seconds left. The coach says to hold the ball and make the other team foul. Instead, the guard drives into three defenders and throws up a wild scoop shot...",
      detail: "It banks in! The crowd screams! Now they're up by 3!",
      hint: "The coach had a smart plan. The player ignored it and got lucky. What matters more — the decision or the outcome?",
      answer: "Bad Process, Good Result"
    },
    {
      id: 5,
      scenario: "A team is down by 1 with 8 seconds left. The coach draws up an inbound play that gets their best scorer a clean midrange jumper from her favorite spot...",
      detail: "The play works perfectly. She's open. She shoots... and it rattles out. Game over.",
      hint: "The play design was perfect and got the best player the best shot. Sometimes great shots just don't fall.",
      answer: "Good Process, Bad Result"
    },
    {
      id: 6,
      scenario: "Fast break! 3-on-1. Instead of passing to either wide-open teammate, the player tries a behind-the-back, between-the-legs dunk...",
      detail: "He loses the ball out of bounds. The other team gets it back.",
      hint: "With two open teammates, was a trick dunk attempt the right decision?",
      answer: "Bad Process, Bad Result"
    },
    {
      id: 7,
      scenario: "Late in the game, the team has the ball and the shot clock is running down. They swing the ball until they find an open player who takes a good mid-range shot...",
      detail: "The ball goes in and out. No points. But the coach gives her a thumbs up.",
      hint: "The coach wasn't upset even though it missed. Why? Think about the quality of the shot selection, not the bounce of the ball.",
      answer: "Good Process, Bad Result"
    },
    {
      id: 8,
      scenario: "A player catches a rebound and, instead of passing to her point guard to set up the offense, she dribbles coast-to-coast through the entire defense...",
      detail: "She gets stripped at halfcourt. The other team scores an easy layup going the other way.",
      hint: "Trying to be a hero instead of trusting the team. How did the decision AND the result turn out?",
      answer: "Bad Process, Bad Result"
    }
  ];

  const options = [
    "Good Process, Good Result",
    "Good Process, Bad Result",
    "Bad Process, Good Result",
    "Bad Process, Bad Result"
  ];

  // ==================================================================
  // STATE
  // ==================================================================
  const state = {
    1: { answers: {}, plays: level1Plays, passed: false },
    2: { answers: {}, plays: level2Plays, passed: false }
  };

  let currentLevel = 1;

  // ==================================================================
  // RENDER
  // ==================================================================
  function renderCards(level) {
    const container = document.getElementById(`playCards-${level}`);
    container.innerHTML = '';
    const plays = state[level].plays;
    const isL2 = level === 2;

    plays.forEach(play => {
      const card = document.createElement('div');
      card.className = 'play-card';
      card.id = `card-${level}-${play.id}`;

      const hintHTML = play.hint
        ? `<span class="hint">&#128161; <strong>Think about it:</strong> ${play.hint}</span>`
        : '';

      card.innerHTML = `
        <div class="feedback-icon" id="icon-${level}-${play.id}"></div>
        <div class="play-header">
          <div class="play-number">${play.id}</div>
          <div class="play-label">Play #${play.id}</div>
        </div>
        <div class="play-description">
          <span class="scenario">${play.scenario}</span>
          <span class="detail">${play.detail}</span>
          ${hintHTML}
        </div>
        <div class="answer-grid" id="answers-${level}-${play.id}">
          ${options.map(opt => `
            <button class="answer-btn" data-play="${play.id}" data-answer="${opt}"
                    onclick="selectAnswer(${level}, ${play.id}, '${opt}', this)">
              ${opt}
            </button>
          `).join('')}
        </div>
      `;

      container.appendChild(card);
    });
  }

  // ==================================================================
  // SELECT ANSWER
  // ==================================================================
  function selectAnswer(level, playId, answer, btn) {
    state[level].answers[playId] = answer;

    const buttons = document.querySelectorAll(`#answers-${level}-${playId} .answer-btn`);
    buttons.forEach(b => b.classList.remove('selected'));
    btn.classList.add('selected');

    const card = document.getElementById(`card-${level}-${playId}`);
    card.classList.remove('correct', 'incorrect');
    buttons.forEach(b => b.classList.remove('correct-answer', 'wrong-answer'));
    document.getElementById(`icon-${level}-${playId}`).textContent = '';

    updateProgress(level);
  }

  // ==================================================================
  // UPDATE PROGRESS
  // ==================================================================
  function updateProgress(level) {
    const count = Object.keys(state[level].answers).length;
    const total = state[level].plays.length;
    document.getElementById(`progressFill-${level}`).style.width = `${(count / total) * 100}%`;
    document.getElementById(`progressText-${level}`).textContent = `${count} of ${total} plays answered`;
    document.getElementById(`submitBtn-${level}`).disabled = count < total;
  }

  // ==================================================================
  // CHECK ANSWERS
  // ==================================================================
  function checkAnswers(level) {
    let correct = 0;
    const plays = state[level].plays;
    const answers = state[level].answers;

    plays.forEach(play => {
      const card = document.getElementById(`card-${level}-${play.id}`);
      const icon = document.getElementById(`icon-${level}-${play.id}`);
      const isCorrect = answers[play.id] === play.answer;

      card.classList.remove('correct', 'incorrect');

      if (isCorrect) {
        correct++;
        card.classList.add('correct');
        icon.textContent = '\u2705';
      } else {
        card.classList.add('incorrect');
        icon.textContent = '\u274C';

        const buttons = document.querySelectorAll(`#answers-${level}-${play.id} .answer-btn`);
        buttons.forEach(b => {
          if (b.dataset.answer === play.answer) b.classList.add('correct-answer');
          if (b.dataset.answer === answers[play.id]) b.classList.add('wrong-answer');
        });
      }
    });

    const scoreDisplay = document.getElementById(`scoreDisplay-${level}`);
    scoreDisplay.textContent = `Score: ${correct} / ${plays.length}`;
    scoreDisplay.classList.add('visible');

    const panel = document.getElementById(`resultPanel-${level}`);
    const title = document.getElementById(`resultTitle-${level}`);
    const msg = document.getElementById(`resultMessage-${level}`);
    const codeBox = document.getElementById(`claimCodeBox-${level}`);

    panel.classList.remove('pass', 'fail');

    if (correct === plays.length) {
      panel.classList.add('pass');
      state[level].passed = true;

      if (level === 1) {
        title.textContent = '\uD83C\uDFC6 TOUCHDOWN! PERFECT SCORE! \uD83C\uDFC6';
        msg.textContent = 'You understand Process vs Results! But can you handle the ADVANCED level?';
        codeBox.style.display = 'inline-block';
        document.getElementById('claimCode-1').textContent = 'M3-L3-101-ANALYTICS';
        document.getElementById('nextLevelArea').style.display = 'block';
        unlockLevel2();
        launchConfetti();
      } else {
        title.textContent = '\uD83C\uDFC6 SWISH! PERFECT SCORE! \uD83C\uDFC6';
        msg.textContent = 'You don\'t just GET it — you REALLY get it. You can see past the noise and focus on decision quality. That\'s elite-level thinking!';
        codeBox.style.display = 'inline-block';
        document.getElementById('claimCode-2').textContent = 'M3-L3-201-ELITE';
        launchConfetti();
      }
    } else {
      panel.classList.add('fail');

      if (level === 1) {
        title.textContent = `\uD83C\uDFC8 ${correct}/${plays.length} \u2014 Not quite!`;
        msg.textContent = "Look at the highlighted correct answers above, then give it another shot. You've got this!";
      } else {
        title.textContent = `\uD83C\uDFC0 ${correct}/${plays.length} \u2014 So close!`;
        msg.textContent = "These are tricky on purpose! Re-read the hints, think about the DECISION not the OUTCOME, and try again.";
      }
      codeBox.style.display = 'none';
      if (level === 1) document.getElementById('nextLevelArea').style.display = 'none';
    }

    panel.classList.add('show');
    panel.scrollIntoView({ behavior: 'smooth', block: 'center' });
  }

  // ==================================================================
  // RESET
  // ==================================================================
  function resetLevel(level) {
    const plays = state[level].plays;
    state[level].answers = {};

    plays.forEach(play => {
      const card = document.getElementById(`card-${level}-${play.id}`);
      card.classList.remove('correct', 'incorrect');
      document.getElementById(`icon-${level}-${play.id}`).textContent = '';

      const buttons = document.querySelectorAll(`#answers-${level}-${play.id} .answer-btn`);
      buttons.forEach(b => b.classList.remove('selected', 'correct-answer', 'wrong-answer'));
    });

    document.getElementById(`resultPanel-${level}`).classList.remove('show');
    document.getElementById(`scoreDisplay-${level}`).classList.remove('visible');
    updateProgress(level);
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }

  // ==================================================================
  // LEVEL SWITCHING
  // ==================================================================
  function unlockLevel2() {
    const tab2 = document.getElementById('tab-2');
    tab2.disabled = false;
    tab2.innerHTML = '\uD83C\uDFC0 Level 2: Basketball';
  }

  function switchLevel(level) {
    if (level === 2 && !state[1].passed) return;

    currentLevel = level;

    document.querySelectorAll('.level-section').forEach(s => s.classList.remove('active'));
    document.getElementById(`level-${level}`).classList.add('active');

    document.querySelectorAll('.level-tab').forEach(t => t.classList.remove('active'));
    document.getElementById(`tab-${level}`).classList.add('active');

    const body = document.body;
    body.classList.remove('football-theme', 'basketball-theme');
    body.classList.add(level === 1 ? 'football-theme' : 'basketball-theme');

    updateFloatingItems(level);
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }

  // ==================================================================
  // FLOATING ITEMS
  // ==================================================================
  function updateFloatingItems(level) {
    const container = document.getElementById('floatingItems');
    container.innerHTML = '';
    const emoji = level === 1 ? '\uD83C\uDFC8' : '\uD83C\uDFC0';

    for (let i = 0; i < 8; i++) {
      const item = document.createElement('div');
      item.className = 'floating-item';
      item.textContent = emoji;
      item.style.left = Math.random() * 100 + '%';
      item.style.fontSize = (Math.random() * 1.5 + 1) + 'rem';
      item.style.animationDuration = (Math.random() * 20 + 15) + 's';
      item.style.animationDelay = (Math.random() * 10) + 's';
      container.appendChild(item);
    }
  }

  // ==================================================================
  // CONFETTI
  // ==================================================================
  function launchConfetti() {
    const container = document.getElementById('confettiContainer');
    container.innerHTML = '';
    const colors = ['#ffc107', '#4caf50', '#e74c3c', '#3498db', '#ff9800', '#9c27b0', '#fff'];

    for (let i = 0; i < 150; i++) {
      const piece = document.createElement('div');
      piece.className = 'confetti';
      piece.style.left = Math.random() * 100 + '%';
      piece.style.background = colors[Math.floor(Math.random() * colors.length)];
      piece.style.width = (Math.random() * 10 + 6) + 'px';
      piece.style.height = (Math.random() * 10 + 6) + 'px';
      piece.style.animationDuration = (Math.random() * 2 + 2) + 's';
      piece.style.animationDelay = (Math.random() * 1.5) + 's';
      piece.style.borderRadius = Math.random() > 0.5 ? '50%' : '2px';
      container.appendChild(piece);
    }

    setTimeout(() => { container.innerHTML = ''; }, 5000);
  }

  // ==================================================================
  // INIT
  // ==================================================================
  renderCards(1);
  renderCards(2);
  updateFloatingItems(1);
</script>

</body>
</html>
